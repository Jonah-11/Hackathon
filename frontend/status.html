<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status - View Your Applications</title>
    <link rel="stylesheet" href="css/status.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        // Check if user is logged in
        window.onload = function () {
            const isLoggedIn = localStorage.getItem('isLoggedIn');

            if (!isLoggedIn) {
                document.getElementById('login-section').style.display = 'block'; // Show login form
            } else {
                document.getElementById('status-section').style.display = 'block'; // Show status section
            }
        };

        // Handle login form submission
        function handleLogin(event) {
            event.preventDefault(); // Prevent the form from submitting normally

            // Example credentials for demonstration
            const validUsername = 'user'; // Replace with actual validation
            const validPassword = 'password'; // Replace with actual validation

            const inputUsername = document.getElementById('username').value;
            const inputPassword = document.getElementById('password').value;

            // Validate login
            if (inputUsername === validUsername && inputPassword === validPassword) {
                localStorage.setItem('isLoggedIn', 'true'); // Store login state
                window.location.reload(); // Reload the page to show the status section
            } else {
                document.getElementById('error-message').textContent = 'Invalid username or password.';
            }
        }
    </script>
</head>  
<body>
    <header>
        <div class="container1">
            <div class="logo">
                <a href="#"><img src="assets/images/logo.jpg" alt="Logo" height="50"/></a>
                <p>Work Finder</p>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="status.html">Status</a></li>
                    <li><a href="register.html">Register</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="status-section" style="display:none;">
        <h2>Entrepreneur Status</h2>
        <p>View the status of applicants for your job postings.</p>
        <div id="entrepreneur-applications">
            <table class="status-table">
                <tr>
                    <th>Job Title</th>
                    <th>Applicant Name</th>
                    <th>Status</th>
                </tr>
                <tr>
                    <td>Software Engineer</td>
                    <td>John Doe</td>
                    <td class="accepted">Accepted</td>
                </tr>
                <tr>
                    <td>Web Designer</td>
                    <td>Jane Smith</td>
                    <td class="declined">Declined</td>
                </tr>
                <!-- Add more rows as needed -->
            </table>
        </div>

        <h2>Job Seeker Status</h2>
        <p>View whether your job applications have been accepted or declined.</p>
        <div id="job-seeker-applications">
            <table class="status-table">
                <tr>
                    <th>Job Title</th>
                    <th>Your Name</th>
                    <th>Status</th>
                </tr>
                <tr>
                    <td>Marketing Specialist</td>
                    <td>Emily Johnson</td>
                    <td class="pending">Pending</td>
                </tr>
                <tr>
                    <td>Data Analyst</td>
                    <td>Mark Brown</td>
                    <td class="accepted">Accepted</td>
                </tr>
                <!-- Add more rows as needed -->
            </table>
        </div>
    </section>

    <section id="login-section">
        <h2>View your status</h2>
        <h3>Please login to continue</h3>
        <form id="loginForm" onsubmit="handleLogin(event)">
            <label for="username">Username:</label>
            <input type="text" id="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" required>
            <button type="submit">Login</button>
        </form>
        <p id="error-message" class="error-message"></p>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>About Us</h4>
                <p>We envision a future where everyone is connected to a job suitable to his/her respective skills.</p>
            </div>
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p>Email: info@workfinder.com<br>Phone: +254 799 610782</p>
            </div>
        </div>
        <p>&copy; 2024 By Jonathan Edwards | All Rights Reserved</p>
    </footer>

    <script src="js/site.js"></script>
</body>
</html>
